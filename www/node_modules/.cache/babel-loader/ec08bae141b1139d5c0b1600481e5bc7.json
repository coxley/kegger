{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetSubscribers = exports.removeSubscriber = exports.addSubscriber = exports.hasSubscribers = exports.getSubscribers = void 0;\nvar subscribers = {};\nvar EMPTY_LIST = [];\n\nvar getSubscribers = function (url) {\n  if ((0, exports.hasSubscribers)(url)) {\n    return Array.from(subscribers[url]);\n  }\n\n  return EMPTY_LIST;\n};\n\nexports.getSubscribers = getSubscribers;\n\nvar hasSubscribers = function (url) {\n  var _a;\n\n  return ((_a = subscribers[url]) === null || _a === void 0 ? void 0 : _a.size) > 0;\n};\n\nexports.hasSubscribers = hasSubscribers;\n\nvar addSubscriber = function (url, subscriber) {\n  subscribers[url] = subscribers[url] || new Set();\n  subscribers[url].add(subscriber);\n};\n\nexports.addSubscriber = addSubscriber;\n\nvar removeSubscriber = function (url, subscriber) {\n  subscribers[url].delete(subscriber);\n};\n\nexports.removeSubscriber = removeSubscriber;\n\nvar resetSubscribers = function (url) {\n  if (url && subscribers.hasOwnProperty(url)) {\n    delete subscribers[url];\n  } else {\n    for (var url_1 in subscribers) {\n      if (subscribers.hasOwnProperty(url_1)) {\n        delete subscribers[url_1];\n      }\n    }\n  }\n};\n\nexports.resetSubscribers = resetSubscribers;","map":{"version":3,"mappings":";;;;;;AAMA,IAAMA,WAAW,GAAgB,EAAjC;AACA,IAAMC,UAAU,GAAiB,EAAjC;;AAEO,IAAMC,cAAc,GAAG,UAACC,GAAD,EAAY;EACtC,IAAI,4BAAeA,GAAf,CAAJ,EAAyB;IACrB,OAAOC,KAAK,CAACC,IAAN,CAAWL,WAAW,CAACG,GAAD,CAAtB,CAAP;EACH;;EACD,OAAOF,UAAP;AACH,CALM;;AAAMK,yBAAcJ,cAAd;;AAON,IAAMK,cAAc,GAAG,UAACJ,GAAD,EAAY;;;EACtC,OAAO,kBAAW,CAACA,GAAD,CAAX,MAAgB,IAAhB,IAAgBK,aAAhB,GAAgB,MAAhB,GAAgBA,GAAEC,IAAlB,IAAyB,CAAhC;AACH,CAFM;;AAAMH,yBAAcC,cAAd;;AAIN,IAAMG,aAAa,GAAG,UAACP,GAAD,EAAcQ,UAAd,EAAoC;EAC7DX,WAAW,CAACG,GAAD,CAAX,GAAmBH,WAAW,CAACG,GAAD,CAAX,IAAoB,IAAIS,GAAJ,EAAvC;EACAZ,WAAW,CAACG,GAAD,CAAX,CAAiBU,GAAjB,CAAqBF,UAArB;AACH,CAHM;;AAAML,wBAAaI,aAAb;;AAKN,IAAMI,gBAAgB,GAAG,UAACX,GAAD,EAAcQ,UAAd,EAAoC;EAChEX,WAAW,CAACG,GAAD,CAAX,CAAiBY,MAAjB,CAAwBJ,UAAxB;AACH,CAFM;;AAAML,2BAAgBQ,gBAAhB;;AAIN,IAAME,gBAAgB,GAAG,UAACb,GAAD,EAAa;EACzC,IAAIA,GAAG,IAAIH,WAAW,CAACiB,cAAZ,CAA2Bd,GAA3B,CAAX,EAA4C;IACxC,OAAOH,WAAW,CAACG,GAAD,CAAlB;EACH,CAFD,MAEO;IACH,KAAK,IAAIe,KAAT,IAAgBlB,WAAhB,EAA4B;MACxB,IAAIA,WAAW,CAACiB,cAAZ,CAA2BC,KAA3B,CAAJ,EAAoC;QAChC,OAAOlB,WAAW,CAACkB,KAAD,CAAlB;MACH;IACJ;EACJ;AACJ,CAVM;;AAAMZ,2BAAgBU,gBAAhB","names":["subscribers","EMPTY_LIST","getSubscribers","url","Array","from","exports","hasSubscribers","_a","size","addSubscriber","subscriber","Set","add","removeSubscriber","delete","resetSubscribers","hasOwnProperty","url_1"],"sources":["/home/coxley/kegger/web/node_modules/react-use-websocket/src/lib/manage-subscribers.ts"],"sourcesContent":["import { Subscriber } from './types';\n\nexport type Subscribers = {\n    [url: string]: Set<Subscriber>,\n}\n  \nconst subscribers: Subscribers = {};\nconst EMPTY_LIST: Subscriber[] = [];\n\nexport const getSubscribers = (url: string): Subscriber[] => {\n    if (hasSubscribers(url)) {\n        return Array.from(subscribers[url]);\n    }\n    return EMPTY_LIST;\n};\n\nexport const hasSubscribers = (url: string): boolean => {\n    return subscribers[url]?.size > 0;\n};\n\nexport const addSubscriber = (url: string, subscriber: Subscriber): void => {\n    subscribers[url] = subscribers[url] || new Set<Subscriber>();\n    subscribers[url].add(subscriber);\n};\n\nexport const removeSubscriber = (url: string, subscriber: Subscriber): void => {\n    subscribers[url].delete(subscriber);\n};\n\nexport const resetSubscribers = (url?: string): void => {\n    if (url && subscribers.hasOwnProperty(url)) {\n        delete subscribers[url];\n    } else {\n        for (let url in subscribers){\n            if (subscribers.hasOwnProperty(url)){\n                delete subscribers[url];\n            }\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"script"}